{% extends 'admin/home.html' %}

{% block content %}

<div class="container" style="max-width: 600px; margin-top: 75px;">
    <div class="text-center">
        <h1 class="mt-5">Qu·∫£n l√Ω Th·ªÉ Lo·∫°i</h1>
        <p class="lead">Th√™m th·ªÉ lo·∫°i truy·ªán m·ªõi v√†o h·ªá th·ªëng.</p>
    </div>

    <!-- Hi·ªÉn th·ªã th√¥ng b√°o -->
    {% if messages %}
        <div class="mt-3">
            {% for message in messages %}
                <div class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-danger{% endif %} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="card mt-4 shadow-sm">
        <div class="card-body">   
        <form action="{% url 'themtheloai' %}" method="POST">
            {% csrf_token %}
        <!-- Form hi·ªÉn th·ªã t·ª± ƒë·ªông -->
        <div class="mb-3">
        <div class="form-group">
            <label for="ten_the_loai">T√™n th·ªÉ lo·∫°i</label>
            <input type="text" class="form-control" id="ten_the_loai" name="ten_the_loai" placeholder="Nh·∫≠p t√™n th·ªÉ lo·∫°i" required>
        </div>

        {% if form.ten_the_loai.errors %}
                        <div class="text-danger mt-1">
                            {{ form.ten_the_loai.errors.0 }}
                        </div>
        {% endif %}
        </div>
             <button type="submit" class="btn btn-primary">Submit</button>

        </form>
    </div>
</div>

<!--
<div class="table-responsive-sm">
            {% if messages %}
            <div class="container mt-3">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
            {% endif %}


    <table class="table table-striped table-hover table-bordered table-primary align-middle">
       
        <thead class="table-primary text-center">
            <caption style="caption-side: top;">
                Danh s√°ch th·ªÉ lo·∫°i
            </caption>
            <tr>
                <th>ID</th>
                <th>T√™n th·ªÉ lo·∫°i</th>
                <th>Thao t√°c</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            
           
            {% for theloai in theloais %}
            <tr class="table-light">
                <td scope="row">{{ theloai.id }}</td>
                
                <td style="font-size:23px"> <a href="{% url 'admin-theloai' theloai.id %}" class=" text-decoration-none" >{{ theloai.ten_the_loai }}</a>{% if not forloop.last %} {% endif %}</td>
                <td>
                    <a href="{% url 'suatheloai' theloai.id %}" class="btn btn-primary">S·ª≠a</a>
                    
                  
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal{{ theloai.id }}">
                     X√≥a
                    </button>

        
    <div class="modal fade" id="confirmDeleteModal{{ theloai.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">X√°c nh·∫≠n x√≥a</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a th·ªÉ lo·∫°i <strong>{{ theloai.ten_the_loai }}</strong> kh√¥ng?
                </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                            <form method="POST" action="{% url 'xoatheloai' theloai.id %}">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger">X√°c nh·∫≠n x√≥a</button>
                            </form>
                    </div>
            </div>
        </div>
    </div>

                </td>

            </tr>
            {% empty %}
            <tr>
                <td colspan="3">Kh√¥ng c√≥ th·ªÉ lo·∫°i n√†o.</td>
            </tr>

            {% endfor %}

        </tbody>
        <tfoot>

        </tfoot>
    </table>
-->
    <table class="table table-hover table-bordered text-center align-middle shadow-sm rounded mt-3">
        <caption class="text-primary fw-bold fs-4 pb-2" style="caption-side: top;">üìå Danh s√°ch th·ªÉ lo·∫°i </caption>
        
        <thead class="table-dark text-light">
            <tr>
                <th>ID</th>
                <th class="text-start">T√™n th·ªÉ lo·∫°i</th>
                <th>Thao t√°c</th>
            </tr>
        </thead>
        
        <tbody>
            {% for theloai in theloais %}
            <tr class="bg-light">
                <td class="fw-bold">{{ theloai.id }}</td>
                
                <td class="text-start fs-5">
                    <a href="{% url 'admin-theloai' theloai.id %}" class="text-decoration-none text-dark fw-semibold">
                        {{ theloai.ten_the_loai }}
                    </a>
                </td>
                
                <td>
                    <!-- N√∫t S·ª≠a -->
                    <a href="{% url 'suatheloai' theloai.id %}" class="btn btn-outline-primary btn-sm px-3">‚úèÔ∏è S·ª≠a</a>
    
                    <!-- N√∫t X√≥a -->
                    <button type="button" class="btn btn-outline-danger btn-sm px-3" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal{{ theloai.id }}">
                        üóëÔ∏è
                    </button>
                    
                    <!-- Modal x√°c nh·∫≠n x√≥a -->
                    <div class="modal fade" id="confirmDeleteModal{{ theloai.id }}" tabindex="-1">
                        <div class="modal-dialog ">
                            <div class="modal-content border-0 shadow-lg">
                                <div class="modal-header bg-danger text-white">
                                    <h5 class="modal-title">X√°c nh·∫≠n x√≥a</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body text-center">
                                    <p>B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a th·ªÉ lo·∫°i <strong class="text-danger">{{ theloai.ten_the_loai }}</strong> kh√¥ng?</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">H·ªßy</button>
                                    <form method="POST" action="{% url 'xoatheloai' theloai.id %}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn btn-secondary">X√°c nh·∫≠n</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="text-muted">Kh√¥ng c√≥ th·ªÉ lo·∫°i n√†o.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <style>
        table {
            border-radius: 10px;
            overflow: hidden;
        }
        th {
            background: #343a40 !important;
            color: white !important;
        }
        tbody tr:nth-child(odd) {
            background-color: #f8f9fa;
        }
        tbody tr:nth-child(even) {
            background-color: #e9ecef;
        }
        tbody tr:hover {
            background-color: #dee2e6 !important;
            transition: 0.2s ease-in-out;
        }
        .modal-content {
            border-radius: 10px;
        }
        .btn-sm {
            font-size: 14px;
        }
    </style>
    
    


{% endblock %}
